<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Q'bocao â€” Postres artesanales</title>

  <!-- TipografÃ­as -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">

  <!-- Preconnect a tu API para bajar latencia -->
  <link rel="preconnect" href="https://script.google.com" crossorigin>

  <!-- PapaParse -->
  <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>

  <!-- URL de tu API (Apps Script /exec) -->
  <script>
    window.MENU_API_URL = 'https://script.google.com/macros/s/AKfycbxzBrOTZ30YPhqcPWuFrbDNlX-vTekaFqPSiWXjmV2fC9iO4xvOTSOEzL-os-pA-EwW/exec';
    // NÃºmero de WhatsApp destino
    window.WHATS_NUMBER = '+5491154815519';
  </script>

  <link rel="stylesheet" href="css/style.css" />
</head>
<body>
  <!-- Panel lateral (carrito + formulario) -->
  <aside id="cartPanel" aria-hidden="true">
    <header class="cart-header">
      <h3 id="panelTitle">Tu pedido</h3>
      <button class="cart-close" aria-label="Cerrar carrito">Ã—</button>
    </header>

    <!-- Paso 1: Carrito -->
    <div class="cart-body" id="stepCart">
      <p class="muted">Tu carrito estÃ¡ vacÃ­o.</p>
    </div>
    <footer class="cart-footer" id="footerCart">
      <div class="cart-row"><span>Subtotal</span><strong id="subtotalTxt">$0</strong></div>
      <button class="btn btn-primary" id="btnToForm" disabled>Continuar</button>
    </footer>

    <!-- Paso 2: Formulario -->
    <div class="cart-body" id="stepForm" hidden>
      <form id="orderForm" class="form-grid" autocomplete="on">
        <h4>Datos del cliente</h4>
        <div class="f-row">
          <label>Nombre</label>
          <input type="text" id="fNombre" placeholder="Nombre" required>
        </div>
        <div class="f-row">
          <label>Apellido</label>
          <input type="text" id="fApellido" placeholder="Apellido" required>
        </div>
        <div class="f-row">
          <label>TelÃ©fono</label>
          <input type="tel" id="fTelefono" placeholder="+54 9 11..." required>
        </div>

        <div class="f-row f-check">
          <input type="checkbox" id="fRetiro">
          <label for="fRetiro">Retiro en local</label>
        </div>

        <div id="direccionBlock">
          <h4>DirecciÃ³n de entrega</h4>
          <div class="f-row">
            <label>Calle y nÃºmero</label>
            <input type="text" id="fCalle" placeholder="Ej: Av. Siempre Viva 742">
          </div>
          <div class="f-row">
            <label>CÃ³digo Postal</label>
            <input type="text" id="fCP" placeholder="Ej: 1704">
          </div>
          <div class="f-row">
            <label>Tipo de vivienda</label>
            <select id="fTipo">
              <option value="casa" selected>Casa</option>
              <option value="depto">Departamento</option>
            </select>
          </div>
          <div class="f-row two" id="deptoExtra" hidden>
            <div>
              <label>Piso</label>
              <input type="text" id="fPiso" placeholder="Ej: 3">
            </div>
            <div>
              <label>NÂº Dpto</label>
              <input type="text" id="fDepto" placeholder="Ej: B">
            </div>
          </div>
        </div>

        <h4>Pago</h4>
        <div class="f-row">
          <select id="fPago">
            <option value="efectivo" selected>Efectivo</option>
            <option value="transferencia">Transferencia</option>
          </select>
        </div>

        <div id="transferBlock" class="transfer" hidden>
          <div class="f-row">
            <label>Alias</label>
            <div class="copyline">
              <input type="text" id="aliasTxt" value="ALIAS.EJEMPLO.QBOCAO" readonly>
              <button type="button" class="btn" data-copy="#aliasTxt">Copiar</button>
            </div>
          </div>
          <div class="f-row">
            <label>CBU</label>
            <div class="copyline">
              <input type="text" id="cbuTxt" value="0000000000000000000000" readonly>
              <button type="button" class="btn" data-copy="#cbuTxt">Copiar</button>
            </div>
          </div>
          <p class="muted" id="copyStatus"></p>
        </div>

        <div class="resume">
          <div class="cart-row"><span>Subtotal</span><strong id="rSubtotal">$0</strong></div>
          <div class="cart-row"><span>EnvÃ­o</span><strong id="rEnvio">$0</strong></div>
          <div class="cart-row total"><span>Total</span><strong id="rTotal">$0</strong></div>
        </div>

        <button class="btn" type="button" id="btnBack">Volver</button>
        <button class="btn btn-primary" type="submit" id="btnWhatsapp">Enviar por WhatsApp</button>
      </form>
    </div>
  </aside>

  <!-- Capa oscura -->
  <div id="backdrop" aria-hidden="true"></div>

  <!-- Header / Navbar -->
  <header class="site-header">
    <div class="container nav">
      <a class="brand" href="index.html">
        <img src="assets/images/logo.png" alt="Q'bocao" />
        <span>Q'bocao</span>
      </a>

      <nav class="menu">
        <a href="index.html">Inicio</a>
        <a href="pages/nosotros.html">Nosotros</a>
        <a href="pages/ubicaciones.html">Ubicaciones</a>
        <a href="pages/contacto.html">Contacto</a>
        <a href="pages/faq.html">FAQ</a>
      </nav>

      <div class="actions">
        <button class="btn icon" id="openCart" aria-label="Abrir carrito">ðŸ›’</button>
        <button class="btn burger" id="openMenu" aria-label="Abrir menÃº">â˜°</button>
      </div>
    </div>
  </header>

  <!-- Hero reducido -->
  <section class="hero hero--sm">
    <div class="hero-overlay"></div>
    <div class="container hero-content">
      <h1>Postres artesanales</h1>
      <p>Hechos con amor para endulzar tu dÃ­a</p>
    </div>
  </section>

  <!-- CatÃ¡logo -->
  <main id="catalogo" class="container">
    <h2>CatÃ¡logo</h2>
    <div id="gridCatalogo" class="grid">
      <!-- skeletons mientras carga -->
      <div class="card skeleton"><div class="sk-img"></div><div class="sk-lines"></div></div>
      <div class="card skeleton"><div class="sk-img"></div><div class="sk-lines"></div></div>
      <div class="card skeleton"><div class="sk-img"></div><div class="sk-lines"></div></div>
      <div class="card skeleton"><div class="sk-img"></div><div class="sk-lines"></div></div>
      <div class="card skeleton"><div class="sk-img"></div><div class="sk-lines"></div></div>
      <div class="card skeleton"><div class="sk-img"></div><div class="sk-lines"></div></div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container footer-grid">
      <div>
        <h4>Horario</h4>
        <p>Lunes a SÃ¡bados: 10:00â€“20:00</p>
        <p id="openStatus" class="badge">Abierto</p>
      </div>
      <div>
        <h4>Contacto</h4>
        <p>WhatsApp: prÃ³ximamente</p>
        <p>Instagram | Facebook</p>
      </div>
      <div>
        <h4>Q'bocao</h4>
        <p>Postres de autor, frescos y deliciosos.</p>
      </div>
    </div>
    <div class="container legal">
      Â© 2025 Q'bocao. Todos los derechos reservados.
    </div>
  </footer>

  <script src="js/app.js"></script>
</body>
</html>
